<Window x:Class="ArticleGraphProject.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Makale Grafik Analizi" Height="800" Width="1400"
        Icon="pack://application:,,,/Images/logo.jpg"
        KeyDown="Window_KeyDown">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="280"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT PANEL: Stats & Data Info -->
        <Border Grid.Column="0" Background="#F5F5F5" Padding="10" BorderBrush="#CCCCCC" BorderThickness="0,0,1,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="GRAFİK İSTATİSTİKLERİ" FontWeight="Bold" FontSize="14" Margin="0,0,0,15"/>
                    
                    <TextBlock Text="Veri Seti Özeti" FontWeight="SemiBold" Foreground="#333333" Margin="0,5"/>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="Toplam Düğüm: " Width="120"/>
                        <TextBlock x:Name="txtTotalNodes" Text="0" FontWeight="Bold"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="Siyah Kenarlar: " Width="120"/>
                        <TextBlock x:Name="txtBlackEdges" Text="0" FontWeight="Bold"/>
                    </StackPanel>
                    
                    <Separator Margin="0,12"/>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="En Çok Atıf Alan: " Width="120"/>
                        <TextBlock x:Name="txtMostCited" Text="-" FontWeight="Bold" TextWrapping="Wrap"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="Atıf Sayısı: " Width="120"/>
                        <TextBlock x:Name="txtMostCitedCount" Text="0" FontWeight="Bold"/>
                    </StackPanel>
                    
                    <Separator Margin="0,12"/>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="En Çok Referans: " Width="120"/>
                        <TextBlock x:Name="txtMostReferencing" Text="-" FontWeight="Bold" TextWrapping="Wrap"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="Referans Sayısı: " Width="120"/>
                        <TextBlock x:Name="txtMostReferencingCount" Text="0" FontWeight="Bold"/>
                    </StackPanel>
                    
                    <Separator Margin="0,12"/>
                    
                    <TextBlock Text="Aktif Alt Grafik" FontWeight="SemiBold" Foreground="#333333" Margin="0,5"/>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="Görünen Düğümler: " Width="120"/>
                        <TextBlock x:Name="txtCurrentNodes" Text="0" FontWeight="Bold"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="Görünen Kenarlar: " Width="120"/>
                        <TextBlock x:Name="txtCurrentEdges" Text="0" FontWeight="Bold"/>
                    </StackPanel>
                    
                    <Separator Margin="0,12"/>
                    
                    <TextBlock Text="Görünüm Ayarları" FontWeight="SemiBold" Foreground="#333333" Margin="0,5"/>
                    <TextBlock x:Name="txtVisibleNodesLabel" Text="Görünen Düğüm: 200" Margin="0,3" FontSize="11"/>
                    <TextBlock Text="(Performans için sınırlanmıştır)" FontSize="10" Foreground="Gray" Margin="0,0,0,5"/>
                    <Slider x:Name="sliderVisibleNodes" 
                            Minimum="50" 
                            Maximum="1000" 
                            Value="200"
                            TickFrequency="50"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SliderVisibleNodes_ValueChanged"
                            Margin="0,5"/>
                    
                    <Separator Margin="0,10"/>
                    
                    <TextBlock Text="Seçili Makale Analizi" FontWeight="SemiBold" Foreground="#333333" Margin="0,5"/>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="Makale ID: " Width="110"/>
                        <TextBlock x:Name="txtSelectedArticle" Text="-" FontWeight="Bold" TextWrapping="Wrap"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="H-Index: " Width="110"/>
                        <TextBlock x:Name="txtHIndex" Text="-" FontWeight="Bold"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="H-Core Boyutu: " Width="110"/>
                        <TextBlock x:Name="txtHCoreSize" Text="-" FontWeight="Bold"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,3">
                        <TextBlock Text="H-Median: " Width="110"/>
                        <TextBlock x:Name="txtHMedian" Text="-" FontWeight="Bold"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- CENTER PANEL: Canvas -->
        <Border Grid.Column="1" BorderBrush="Gray" BorderThickness="1" Background="White">
            <Canvas x:Name="graphCanvas"
                    ClipToBounds="True"
                    MouseWheel="GraphCanvas_MouseWheel"
                    MouseLeftButtonDown="GraphCanvas_MouseLeftButtonDown"
                    MouseMove="GraphCanvas_MouseMove"
                    MouseLeftButtonUp="GraphCanvas_MouseLeftButtonUp"
                    MouseRightButtonDown="GraphCanvas_MouseRightButtonDown">
                <Canvas.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform x:Name="canvasScaleTransform" ScaleX="1" ScaleY="1"/>
                        <TranslateTransform x:Name="canvasTranslateTransform" X="0" Y="0"/>
                    </TransformGroup>
                </Canvas.RenderTransform>
                
            </Canvas>
        </Border>

        <!-- RIGHT PANEL: Controls -->
        <Border Grid.Column="2" Background="#F5F5F5" Padding="12" BorderBrush="#CCCCCC" BorderThickness="1,0,0,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="KONTROL PANELİ" FontWeight="Bold" FontSize="14" Margin="0,0,0,15"/>
                    
                    <GroupBox Header="Hızlı Arama" Margin="0,5">
                        <StackPanel Margin="5">
                            <TextBlock Text="Makale ID / Metin:" Margin="0,0,0,4"/>
                            <TextBox x:Name="txtSearch" Padding="4" TextChanged="TxtSearch_TextChanged"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Veri Yükleme" Margin="0,8">
                        <StackPanel Margin="5">
                            <Button x:Name="btnLoadJson" Content="JSON Dosyası Seç" 
                                    Click="BtnLoadJson_Click" Padding="6" Margin="0,5"/>
                            <TextBlock x:Name="txtJsonStatus" Text="Dosya bekleniyor..." 
                                       TextWrapping="Wrap" Foreground="Gray" FontSize="11" Margin="0,4"/>
                        </StackPanel>
                    </GroupBox>
                    
                    <GroupBox Header="Grafik Keşfi" Margin="0,8">
                        <StackPanel Margin="5">
                            <TextBlock Text="Makale ID Girin:" Margin="0,0,0,4"/>
                            <TextBox x:Name="txtArticleId" Padding="4"/>
                            <Button x:Name="btnExpand" Content="Grafiği Genişlet" 
                                    Click="BtnExpand_Click" Padding="6" Margin="0,8"
                                    IsEnabled="False"/>
                            <TextBlock Text="* Grafikteki bir düğüme de tıklayabilirsiniz" 
                                       FontStyle="Italic" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </GroupBox>
                    
                    <GroupBox Header="Algoritmalar" Margin="0,8">
                        <StackPanel Margin="5">
                            <Button x:Name="btnBetweenness" Content="Betweenness Hesapla" 
                                    Click="BtnBetweenness_Click" Padding="6" Margin="0,5"
                                    IsEnabled="False"/>
                            
                            <Separator Margin="0,12"/>
                            
                            <TextBlock Text="K değeri:" Margin="0,0,0,4"/>
                            <TextBox x:Name="txtKValue" Text="5" Padding="4"/>
                            <Button x:Name="btnKCore" Content="K-Core Analizi Yap" 
                                    Click="BtnKCore_Click" Padding="6" Margin="0,8"
                                    IsEnabled="False"/>
                        </StackPanel>
                    </GroupBox>
                    
                    <GroupBox Header="Görünüm Kontrolü" Margin="0,8">
                        <StackPanel Margin="5">
                            <Button x:Name="btnReset" Content="Sıfırla" 
                                    Click="BtnReset_Click" Padding="6" Margin="0,5"
                                    Background="#FFE8E8" IsEnabled="False"/>
                            <TextBlock Text="Kısayol: ESC" 
                                       FontStyle="Italic" FontSize="10" Foreground="Gray" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </GroupBox>
                    
                    <GroupBox Header="Sonuçlar" Margin="0,8,0,5">
                        <StackPanel Margin="5">
                            <ScrollViewer MaxHeight="180" VerticalScrollBarVisibility="Auto">
                                <TextBlock x:Name="txtMetricResults" Text="Sonuçlar burada görünecek." 
                                           TextWrapping="Wrap" FontFamily="Consolas" FontSize="11"/>
                            </ScrollViewer>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
